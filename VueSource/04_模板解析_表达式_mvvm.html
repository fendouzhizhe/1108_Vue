<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>04_模板解析_表达式_vue</title>
  <script src="./js/mvvm.js"></script>
  <script src="./js/compile.js"></script>
  <script src="./js/observer.js"></script>
  <script src="./js/watcher.js"></script>
</head>
<body>
<div id="app">
  <p>{{msg}}</p>
</div>
<script type="text/javascript">
  const vm = new MVVM({
    el:'#app',
    data:{
      msg:'abc'
    }
  })

  /*
  
    html模版中的插值语法中的表达式是如何替换的?
    先创建文档碎片对象,就相当于虚拟DOM
    然后把html模版中的容器获取到,并且把容器中所有的节点全部的遍历出来,全部的添加到文档碎片对象中
    开始解析模版,遍历文档碎片对象中所有的子节点,判断当前的节点是不是标签节点,还要判断当前的节点是不是文本节点(如果是文本节点,还要判断这个文本节点和插值的正则是否匹配)
    主要说这个文本节点是一个插值表达式,此时开始进行提取,提取这个插值表达式及提取这个插值语法中的表达式------{{msg}}--文本节点,msg表达式提取出来
    先通过vm实例获取msg属性的值,然后在把插值语法--这个文本节点的内容替换成vm.msg属性的值,此时所有的这些替换操作,节点的内容的替换都是在内存中进行的(也可以看成是都在文档碎片对象中进行的),完毕后,把替换后的节点对象的这个文档碎片对象重新的添加到html模版中的容器对象里面,此时页面就可以看到表达式的值的显示了



  
  
  */




  /*
  
   Vue中有数据代理,data对象中的属性给了vm对象使用或者vm可以直接使用data对象中的数据
   代理者vm,被代理者data
   
  
  */










  //属性:vm实例对象中都是属性----data对象中的属性
  //表达式:模版中(上面的html中用到的属性,叫表达式)
  //模版解析:打开页面中,页面初始化的时候,直接把相对应的表达式,指令,事件，进行解析,最终以真正的html的效果进行展示


  // * 前面的表达式出现了0次到多次    //\d*  '123123'
  // + 前面的表达式出现了1次到多次
  // ? 前面的表达式出现了0次到1次
  // \d 任意的一个数字  [0-9]
  // \D 非数字
  //  \s  空白符              
  // \S 非空白符  


  // \d{0,}
  // \d{1,}
  // \d{0,1}
  // \d{,10} 错误写法


  // /[0-9a-zA-Z-_.]+[@][0-9a-zA-Z-_.]+([a-zA-Z]+){1,2}/

  // /\{\{(.*)\}\}/

  //   RegExp.$1.trim()

  

</script>
</body>
</html>